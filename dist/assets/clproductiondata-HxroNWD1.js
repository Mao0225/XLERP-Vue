import{O as ge,P as We,Q as Ee,R as Ie,_ as Qe,k as ie,g as M,r as d,s as Ae,h as g,G as Ge,o as C,c as me,a as Y,b as t,e as S,w as a,i as u,x as Je,a6 as Xe,H as F,l as K,q as z,F as Ze,m as et,E as c,A as tt}from"./index-DvIhe9Wx.js";import{b as lt}from"./plshengchandingdan-BW0ObEqK.js";import{a as at}from"./plshengchangongdan-xXUNx7N2.js";import{f as ot}from"./bascontract-D4Ji2bep.js";import{u as rt}from"./term-8UVj4SzF.js";function nt(V){return ge("/clproductiondata/getpage",V)}function ut(V){return ge("/clproductiondata/get",V)}function st(V){return We("/clproductiondata/save",V)}function dt(V){return Ee("/clproductiondata/update",V)}function pt(V){return Ie("/clproductiondata/delete",V)}const it={class:"clproductiondata-management"},mt={class:"action-bar"},gt={class:"pagination-container"},ct={class:"pagination-container",style:{"margin-top":"10px"}},ft={class:"pagination-container",style:{"margin-top":"10px"}},bt={class:"pagination-container",style:{"margin-top":"10px"}},yt={__name:"clproductiondata",setup(V){const x=rt(),G=ie(()=>x.currentTerm),f=M({productname:"",productmodel:"",pageNumber:1,pageSize:10}),J=d([]),X=d(0),W=d(!1),w=d(!1),H=d("add"),ce=ie(()=>H.value==="add"?"新增生产数据":"编辑生产数据"),k=d(null),r=M({id:void 0,productname:"",productmodel:"",productionbatch:"",processingmethod:"",processingquantity:null,productioncompletiontime:"",schedulingplanno:"",contractNo:"",woNo:"",ipoNo:"",writer:"",writeTime:"",isdelete:0,status:"",flag:"",type:"",memo:""}),fe=["悬垂线夹","耐张线夹（压缩型）","耐张线夹（预绞式）","防振锤","间隔棒","均压环和屏蔽环","连接金具（绝缘子串金具）","接续金具（压缩型）","接续金具（预绞式）","接续金具（并沟线夹和设备线夹）"],be={productname:[{required:!0,message:"请选择产品名称",trigger:"change"}],productmodel:[{required:!0,message:"请输入产品型号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],productionbatch:[{required:!0,message:"请输入生产批号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],processingmethod:[{required:!0,message:"请选择加工方式",trigger:"change"}],processingquantity:[{required:!0,type:"number",message:"请输入有效的加工件数",trigger:["blur","change"]}],productioncompletiontime:[{required:!0,message:"请选择生产完成时间",trigger:"change"}],schedulingplanno:[{required:!0,message:"请输入排产计划编号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],contractNo:[{required:!0,message:"请选择销售合同编号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],woNo:[{required:!0,message:"请选择生产工单编号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],ipoNo:[{required:!0,message:"请选择生产订单编号",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],writer:[{required:!0,message:"请输入记录人",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],writeTime:[{required:!0,message:"请选择记录时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],flag:[{required:!0,message:"请输入标志",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],type:[{required:!0,message:"请输入类型",trigger:"blur"},{max:50,message:"长度不能超过50个字符",trigger:"blur"}],memo:[{max:100,message:"长度不能超过100个字符",trigger:"blur"}]},D=d(!1),Z=d([]),ee=d(0),E=d(!1),m=M({pageNumber:1,pageSize:10,term:G.value||"",contractNo:"",projectName:""}),U=d(!1),te=d([]),le=d(0),I=d(!1),b=M({ipoNo:"",pageNumber:1,pageSize:10}),ae=[{id:1,value:"待处理"},{id:2,value:"处理中"},{id:3,value:"已完成"},{id:4,value:"已取消"},{id:5,value:"已过期"}],O=d(!1),oe=d([]),re=d(0),Q=d(!1),y=M({woNo:"",pageNumber:1,pageSize:10}),h=d(!1),ne=d([]),ue=o=>{if(!o)return"";const e=new Date(o);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},ye=o=>{const e=ae.find(s=>s.id===o);return e?e.value:"未知状态"},ve=o=>{const e=ae.find(s=>s.id===o);return e?e.value:"未知状态"},Ve=o=>({10:"info",20:"success",30:"warning",40:"danger",50:"danger",60:"primary"})[o]||"info",Ne=o=>({10:"录入",20:"确认",30:"下计划",40:"生产中",50:"发货",60:"完成"})[o]||"未知",we=async()=>{x.terms.length||await x.fetchTerms(),m.contractNo="",m.projectName="",m.pageNumber=1,m.term=G.value||"",await N(),D.value=!0},N=async()=>{E.value=!0;try{const o=await ot(m);Z.value=o.data.page.list,ee.value=o.data.page.totalRow}catch(o){console.error("获取合同列表失败",o),c.error("获取合同列表失败")}finally{E.value=!1}},Ce=o=>{m.pageSize=o,N()},Se=o=>{m.pageNumber=o,N()},ze=o=>{r.contractNo=o.no,D.value=!1},P=async()=>{I.value=!0;try{const o=await lt(b);te.value=o.data.page.list,le.value=o.data.page.totalRow}catch(o){console.error("获取生产订单列表失败",o),c.error("获取生产订单列表失败")}finally{I.value=!1}},xe=o=>{b.pageSize=o,P()},ke=o=>{b.pageNumber=o,P()},De=async()=>{b.ipoNo="",b.pageNumber=1,await P(),U.value=!0},Ue=o=>{r.ipoNo=o.ipoNo,r.contractNo=o.contractNo||r.contractNo,U.value=!1},q=async()=>{Q.value=!0;try{const o=await at(y);oe.value=o.data.page.list,re.value=o.data.page.totalRow}catch(o){console.error("获取生产工单列表失败",o),c.error("获取生产工单列表失败")}finally{Q.value=!1}},Oe=o=>{y.pageSize=o,q()},he=o=>{y.pageNumber=o,q()},Pe=async()=>{y.woNo="",y.pageNumber=1,await q(),O.value=!0},qe=o=>{r.woNo=o.woNo,o.ipoNo&&(r.ipoNo=o.ipoNo),o.productName&&(r.productname=o.productName),O.value=!1},Te=async()=>{try{ne.value=[{schedulingplanno:"SCH2023001",productName:"悬垂线夹",planDate:"2023-01-25"},{schedulingplanno:"SCH2023002",productName:"间隔棒",planDate:"2023-03-02"},{schedulingplanno:"SCH2023003",productName:"防振锤",planDate:"2023-03-20"}],h.value=!0}catch(o){console.error("获取排产计划列表失败",o),c.error("获取排产计划列表失败")}},_e=o=>{r.schedulingplanno=o.schedulingplanno,h.value=!1},v=async()=>{W.value=!0;try{const o=await nt(f);J.value=o.data.page.list,X.value=o.data.page.totalRow}catch(o){console.error("获取生产数据列表失败",o),o.response?c.error(`获取生产数据列表失败: ${o.response.status} ${o.response.statusText}`):c.error("获取生产数据列表失败: 网络连接异常")}finally{W.value=!1}},$e=o=>{f.pageSize=o,v()},Le=o=>{f.pageNumber=o,v()},Me=()=>{k.value&&k.value.resetFields(),Object.assign(r,{id:void 0,productname:"",productmodel:"",productionbatch:"",processingmethod:"",processingquantity:null,productioncompletiontime:"",schedulingplanno:"",contractNo:"",woNo:"",ipoNo:"",writer:"",writeTime:"",isdelete:0,status:"",flag:"",type:"",memo:""})},se=()=>{Object.assign(f,{productname:"",productmodel:"",pageNumber:1}),v()},Ye=()=>{H.value="add",w.value=!0},He=async o=>{H.value="edit";try{const e=await ut({id:o.id});Object.assign(r,e.data.clProductionData),w.value=!0}catch(e){console.error("获取生产数据详情失败",e),c.error("获取生产数据详情失败")}},je=o=>{tt.confirm(`确认删除生产数据 "${o.productname}" 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await pt({id:o.id}),c.success("删除成功"),v()}catch(e){console.error("删除失败",e),e.response?c.error(`删除失败: ${e.response.status} ${e.response.statusText}`):c.error("删除失败: 网络连接异常")}}).catch(()=>{})},Re=()=>{k.value&&k.value.validate(async o=>{if(o)try{H.value==="add"?(r.isdelete=0,await st(r),c.success("新增成功"),se()):(await dt(r),c.success("修改成功"),v()),w.value=!1}catch(e){console.error("保存失败",e),e.response?c.error(`保存失败: ${e.response.status} ${e.response.statusText}`):e.message.includes("CORS")?c.error("跨域请求被阻止，请确保后端已配置CORS"):c.error("保存失败: 网络连接异常")}})};return Ae(()=>{v(),x.terms.length||x.fetchTerms()}),(o,e)=>{const s=g("el-input"),p=g("el-button"),Be=g("el-icon"),n=g("el-table-column"),T=g("el-table"),j=g("el-pagination"),_=g("el-option"),A=g("el-select"),i=g("el-form-item"),R=g("el-col"),de=g("el-row"),pe=g("el-date-picker"),Fe=g("el-form"),$=g("el-dialog"),Ke=g("el-tag"),B=Ge("loading");return C(),me("div",it,[Y("div",mt,[t(s,{modelValue:f.productname,"onUpdate:modelValue":e[0]||(e[0]=l=>f.productname=l),placeholder:"请输入产品名称",style:{width:"180px","margin-right":"10px"},clearable:"",onClear:v,onKeyup:S(v,["enter"])},null,8,["modelValue"]),t(s,{modelValue:f.productmodel,"onUpdate:modelValue":e[1]||(e[1]=l=>f.productmodel=l),placeholder:"请输入产品型号",style:{width:"180px","margin-right":"10px"},clearable:"",onClear:v,onKeyup:S(v,["enter"])},null,8,["modelValue"]),t(p,{type:"primary",onClick:v},{default:a(()=>e[40]||(e[40]=[u("搜索")])),_:1}),t(p,{type:"warning",onClick:se},{default:a(()=>[t(Be,null,{default:a(()=>[t(Je(Xe))]),_:1}),e[41]||(e[41]=u(" 刷新 "))]),_:1}),t(p,{type:"primary",style:{"margin-left":"auto"},onClick:Ye},{default:a(()=>e[42]||(e[42]=[u("新增生产数据")])),_:1})]),F((C(),K(T,{data:J.value,border:"",style:{width:"100%"}},{default:a(()=>[t(n,{label:"序号",width:"80"},{default:a(l=>[u(z((f.pageNumber-1)*f.pageSize+l.$index+1),1)]),_:1}),t(n,{prop:"productname",label:"产品名称"}),t(n,{prop:"productmodel",label:"产品型号"}),t(n,{prop:"productionbatch",label:"生产批号"}),t(n,{prop:"processingmethod",label:"加工方式"}),t(n,{prop:"processingquantity",label:"加工件数"}),t(n,{prop:"productioncompletiontime",label:"生产完成时间"}),t(n,{prop:"schedulingplanno",label:"排产计划编号"}),t(n,{prop:"contractNo",label:"销售合同编号"}),t(n,{prop:"woNo",label:"生产工单编号"}),t(n,{prop:"ipoNo",label:"生产订单编号"}),t(n,{prop:"writer",label:"记录人"}),t(n,{prop:"writeTime",label:"记录时间"}),t(n,{prop:"isdelete",label:"是否删除"}),t(n,{prop:"status",label:"状态"}),t(n,{prop:"flag",label:"标志"}),t(n,{prop:"type",label:"类型"}),t(n,{prop:"memo",label:"备注"}),t(n,{label:"操作",width:"200"},{default:a(({row:l})=>[t(p,{type:"primary",size:"small",onClick:L=>He(l)},{default:a(()=>e[43]||(e[43]=[u("编辑")])),_:2},1032,["onClick"]),t(p,{type:"danger",size:"small",onClick:L=>je(l)},{default:a(()=>e[44]||(e[44]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,W.value]]),Y("div",gt,[t(j,{"current-page":f.pageNumber,"onUpdate:currentPage":e[2]||(e[2]=l=>f.pageNumber=l),"page-size":f.pageSize,"onUpdate:pageSize":e[3]||(e[3]=l=>f.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:X.value,onSizeChange:$e,onCurrentChange:Le},null,8,["current-page","page-size","total"])]),t($,{title:ce.value,modelValue:w.value,"onUpdate:modelValue":e[21]||(e[21]=l=>w.value=l),width:"800px",onClosed:Me},{footer:a(()=>[t(p,{onClick:e[20]||(e[20]=l=>w.value=!1)},{default:a(()=>e[50]||(e[50]=[u("取消")])),_:1}),t(p,{type:"primary",onClick:Re},{default:a(()=>e[51]||(e[51]=[u("确定")])),_:1})]),default:a(()=>[t(Fe,{ref_key:"formRef",ref:k,model:r,rules:be,"label-width":"120px"},{default:a(()=>[t(de,{gutter:20},{default:a(()=>[t(R,{span:12},{default:a(()=>[t(i,{label:"产品名称",prop:"productname"},{default:a(()=>[t(A,{modelValue:r.productname,"onUpdate:modelValue":e[4]||(e[4]=l=>r.productname=l),placeholder:"请选择产品名称"},{default:a(()=>[(C(),me(Ze,null,et(fe,l=>t(_,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"产品型号",prop:"productmodel"},{default:a(()=>[t(s,{modelValue:r.productmodel,"onUpdate:modelValue":e[5]||(e[5]=l=>r.productmodel=l),placeholder:"请输入产品型号"},null,8,["modelValue"])]),_:1}),t(i,{label:"生产批号",prop:"productionbatch"},{default:a(()=>[t(s,{modelValue:r.productionbatch,"onUpdate:modelValue":e[6]||(e[6]=l=>r.productionbatch=l),placeholder:"请输入生产批号"},null,8,["modelValue"])]),_:1}),t(i,{label:"加工方式",prop:"processingmethod"},{default:a(()=>[t(A,{modelValue:r.processingmethod,"onUpdate:modelValue":e[7]||(e[7]=l=>r.processingmethod=l),placeholder:"请选择加工方式"},{default:a(()=>[t(_,{label:"悬垂线夹",value:"悬垂线夹"}),t(_,{label:"间隔棒",value:"间隔棒"})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"加工件数",prop:"processingquantity"},{default:a(()=>[t(de,{gutter:5,style:{display:"flex","align-items":"center"}},{default:a(()=>[t(R,{span:20},{default:a(()=>[t(s,{modelValue:r.processingquantity,"onUpdate:modelValue":e[8]||(e[8]=l=>r.processingquantity=l),modelModifiers:{number:!0},placeholder:"请输入加工件数",type:"number"},null,8,["modelValue"])]),_:1}),t(R,{span:4,style:{"line-height":"40px"}},{default:a(()=>e[45]||(e[45]=[u(" PCS ")])),_:1})]),_:1})]),_:1}),t(i,{label:"生产完成时间",prop:"productioncompletiontime"},{default:a(()=>[t(pe,{modelValue:r.productioncompletiontime,"onUpdate:modelValue":e[9]||(e[9]=l=>r.productioncompletiontime=l),placeholder:"请选择生产完成时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime"},null,8,["modelValue"])]),_:1}),t(i,{label:"排产计划编号",prop:"schedulingplanno"},{default:a(()=>[t(s,{modelValue:r.schedulingplanno,"onUpdate:modelValue":e[10]||(e[10]=l=>r.schedulingplanno=l),placeholder:"请输入排产计划编号"},null,8,["modelValue"]),t(p,{type:"primary",size:"small",onClick:Te},{default:a(()=>e[46]||(e[46]=[u("选择")])),_:1})]),_:1})]),_:1}),t(R,{span:12},{default:a(()=>[t(i,{label:"销售合同编号",prop:"contractNo"},{default:a(()=>[t(s,{modelValue:r.contractNo,"onUpdate:modelValue":e[11]||(e[11]=l=>r.contractNo=l),placeholder:"请输入销售合同编号",readonly:""},null,8,["modelValue"]),t(p,{type:"primary",size:"small",onClick:we},{default:a(()=>e[47]||(e[47]=[u("选择")])),_:1})]),_:1}),t(i,{label:"生产工单编号",prop:"woNo"},{default:a(()=>[t(s,{modelValue:r.woNo,"onUpdate:modelValue":e[12]||(e[12]=l=>r.woNo=l),placeholder:"请输入生产工单编号",readonly:""},null,8,["modelValue"]),t(p,{type:"primary",size:"small",onClick:Pe},{default:a(()=>e[48]||(e[48]=[u("选择")])),_:1})]),_:1}),t(i,{label:"生产订单编号",prop:"ipoNo"},{default:a(()=>[t(s,{modelValue:r.ipoNo,"onUpdate:modelValue":e[13]||(e[13]=l=>r.ipoNo=l),placeholder:"请输入生产订单编号",readonly:""},null,8,["modelValue"]),t(p,{type:"primary",size:"small",onClick:De},{default:a(()=>e[49]||(e[49]=[u("选择")])),_:1})]),_:1}),t(i,{label:"记录人",prop:"writer"},{default:a(()=>[t(s,{modelValue:r.writer,"onUpdate:modelValue":e[14]||(e[14]=l=>r.writer=l),placeholder:"请输入记录人"},null,8,["modelValue"])]),_:1}),t(i,{label:"记录时间",prop:"writeTime"},{default:a(()=>[t(pe,{modelValue:r.writeTime,"onUpdate:modelValue":e[15]||(e[15]=l=>r.writeTime=l),placeholder:"请选择记录时间",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime"},null,8,["modelValue"])]),_:1}),t(i,{label:"状态",prop:"status"},{default:a(()=>[t(A,{modelValue:r.status,"onUpdate:modelValue":e[16]||(e[16]=l=>r.status=l),placeholder:"请选择状态"},{default:a(()=>[t(_,{label:"正常",value:"正常"}),t(_,{label:"异常",value:"异常"})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"标志",prop:"flag"},{default:a(()=>[t(s,{modelValue:r.flag,"onUpdate:modelValue":e[17]||(e[17]=l=>r.flag=l),placeholder:"请输入标志"},null,8,["modelValue"])]),_:1}),t(i,{label:"类型",prop:"type"},{default:a(()=>[t(s,{modelValue:r.type,"onUpdate:modelValue":e[18]||(e[18]=l=>r.type=l),placeholder:"请输入类型"},null,8,["modelValue"])]),_:1}),t(i,{label:"备注",prop:"memo"},{default:a(()=>[t(s,{modelValue:r.memo,"onUpdate:modelValue":e[19]||(e[19]=l=>r.memo=l),placeholder:"请输入备注"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),t($,{title:"选择销售合同",modelValue:D.value,"onUpdate:modelValue":e[27]||(e[27]=l=>D.value=l),width:"800px"},{footer:a(()=>[t(p,{onClick:e[26]||(e[26]=l=>D.value=!1)},{default:a(()=>e[53]||(e[53]=[u("取消")])),_:1})]),default:a(()=>[t(s,{modelValue:m.contractNo,"onUpdate:modelValue":e[22]||(e[22]=l=>m.contractNo=l),placeholder:"请输入合同编号查询",style:{width:"200px","margin-bottom":"10px"},clearable:"",onClear:N,onKeyup:S(N,["enter"])},null,8,["modelValue"]),t(s,{modelValue:m.projectName,"onUpdate:modelValue":e[23]||(e[23]=l=>m.projectName=l),placeholder:"请输入工程名称查询",style:{width:"200px","margin-bottom":"10px"},clearable:"",onClear:N,onKeyup:S(N,["enter"])},null,8,["modelValue"]),F((C(),K(T,{data:Z.value,border:"",style:{width:"100%"}},{default:a(()=>[t(n,{prop:"no",label:"厂内合同号",width:"120"}),t(n,{prop:"gridno",label:"电网编号",width:"120"}),t(n,{prop:"ecpno",label:"国网经法合同号",width:"120"}),t(n,{prop:"equipno",label:"器材合同号",width:"120"}),t(n,{prop:"name",label:"工程名称"}),t(n,{prop:"customerName",label:"客户名称"}),t(n,{prop:"signDate",label:"签定时间",width:"120"}),t(n,{prop:"status",label:"状态",width:"100"},{default:a(({row:l})=>[t(Ke,{type:Ve(l.status)},{default:a(()=>[u(z(Ne(l.status)),1)]),_:2},1032,["type"])]),_:1}),t(n,{label:"操作"},{default:a(({row:l})=>[t(p,{type:"primary",size:"small",onClick:L=>ze(l)},{default:a(()=>e[52]||(e[52]=[u("选择")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,E.value]]),Y("div",ct,[t(j,{"current-page":m.pageNumber,"onUpdate:currentPage":e[24]||(e[24]=l=>m.pageNumber=l),"page-size":m.pageSize,"onUpdate:pageSize":e[25]||(e[25]=l=>m.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ee.value,onSizeChange:Ce,onCurrentChange:Se},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),t($,{title:"选择生产订单",modelValue:U.value,"onUpdate:modelValue":e[32]||(e[32]=l=>U.value=l),width:"800px"},{footer:a(()=>[t(p,{onClick:e[31]||(e[31]=l=>U.value=!1)},{default:a(()=>e[55]||(e[55]=[u("取消")])),_:1})]),default:a(()=>[t(s,{modelValue:b.ipoNo,"onUpdate:modelValue":e[28]||(e[28]=l=>b.ipoNo=l),placeholder:"请输入生产订单号查询",style:{width:"200px","margin-bottom":"10px"},clearable:"",onClear:P,onKeyup:S(P,["enter"])},null,8,["modelValue"]),F((C(),K(T,{data:te.value,border:"",style:{width:"100%"}},{default:a(()=>[t(n,{prop:"ipoNo",label:"生产订单号"}),t(n,{prop:"contractNo",label:"合同编号"}),t(n,{prop:"contractName",label:"合同名称"}),t(n,{prop:"planStartDate",label:"计划开始日期"},{default:a(({row:l})=>[u(z(ue(l.planStartDate)),1)]),_:1}),t(n,{prop:"planFinishDate",label:"计划完成日期"},{default:a(({row:l})=>[u(z(ue(l.planFinishDate)),1)]),_:1}),t(n,{prop:"ipoStatus",label:"订单状态"},{default:a(({row:l})=>[u(z(ye(l.ipoStatus)),1)]),_:1}),t(n,{label:"操作"},{default:a(({row:l})=>[t(p,{type:"primary",size:"small",onClick:L=>Ue(l)},{default:a(()=>e[54]||(e[54]=[u("选择")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,I.value]]),Y("div",ft,[t(j,{"current-page":b.pageNumber,"onUpdate:currentPage":e[29]||(e[29]=l=>b.pageNumber=l),"page-size":b.pageSize,"onUpdate:pageSize":e[30]||(e[30]=l=>b.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:le.value,onSizeChange:xe,onCurrentChange:ke},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),t($,{title:"选择生产工单",modelValue:O.value,"onUpdate:modelValue":e[37]||(e[37]=l=>O.value=l),width:"800px"},{footer:a(()=>[t(p,{onClick:e[36]||(e[36]=l=>O.value=!1)},{default:a(()=>e[57]||(e[57]=[u("取消")])),_:1})]),default:a(()=>[t(s,{modelValue:y.woNo,"onUpdate:modelValue":e[33]||(e[33]=l=>y.woNo=l),placeholder:"请输入生产工单编号查询",style:{width:"200px","margin-bottom":"10px"},clearable:"",onClear:q,onKeyup:S(q,["enter"])},null,8,["modelValue"]),F((C(),K(T,{data:oe.value,border:"",style:{width:"100%"}},{default:a(()=>[t(n,{prop:"woNo",label:"工单编号"}),t(n,{prop:"productName",label:"产品名称"}),t(n,{prop:"orderDate",label:"工单日期"}),t(n,{prop:"ipoNo",label:"关联生产订单号"}),t(n,{prop:"workOrderStatus",label:"工单状态"},{default:a(({row:l})=>[u(z(ve(l.workOrderStatus)),1)]),_:1}),t(n,{label:"操作"},{default:a(({row:l})=>[t(p,{type:"primary",size:"small",onClick:L=>qe(l)},{default:a(()=>e[56]||(e[56]=[u("选择")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[B,Q.value]]),Y("div",bt,[t(j,{"current-page":y.pageNumber,"onUpdate:currentPage":e[34]||(e[34]=l=>y.pageNumber=l),"page-size":y.pageSize,"onUpdate:pageSize":e[35]||(e[35]=l=>y.pageSize=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:re.value,onSizeChange:Oe,onCurrentChange:he},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"]),t($,{title:"选择排产计划",modelValue:h.value,"onUpdate:modelValue":e[39]||(e[39]=l=>h.value=l),width:"600px"},{footer:a(()=>[t(p,{onClick:e[38]||(e[38]=l=>h.value=!1)},{default:a(()=>e[59]||(e[59]=[u("取消")])),_:1})]),default:a(()=>[t(T,{data:ne.value,border:"",style:{width:"100%"}},{default:a(()=>[t(n,{prop:"schedulingplanno",label:"排产计划编号"}),t(n,{prop:"productName",label:"产品名称"}),t(n,{prop:"planDate",label:"计划日期"}),t(n,{label:"操作"},{default:a(({row:l})=>[t(p,{type:"primary",size:"small",onClick:L=>_e(l)},{default:a(()=>e[58]||(e[58]=[u("选择")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}},St=Qe(yt,[["__scopeId","data-v-cc975854"]]);export{St as default};
