import{O as ce,R as Ve,P as Ye,Q as je,_ as ge,r as h,v as ne,g as re,E as U,h as i,G as fe,o as I,l as G,w as l,a as b,b as e,e as Q,i as f,H as be,q as L,f as He,k as me,c as de,x as pe,af as $e,p as ue,a6 as ye,s as Ie,z as Re,A as ve}from"./index-DvIhe9Wx.js";import{b as Te}from"./basno-r_kypwuO.js";import{g as Be}from"./tongzhi-C_3ysjl_.js";import{u as Oe}from"./term-8UVj4SzF.js";import{a as Pe}from"./plshengchangongdan-xXUNx7N2.js";function Fe(y){return ce("/plchuchangchoujian/getchuchangchoujianlist",y)}function Le(y){return ce("/plchuchangchoujian/get",y)}function We(y){return Ye("/plchuchangchoujian/save",y)}function Ee(y){return je("/plchuchangchoujian/update",y)}function Ke(y){return Ve("/plchuchangchoujian/delete",y)}function Je(y){const O=y.join(",");return Ve(`/plchuchangchoujian/batchdelete?ids=${encodeURIComponent(O)}`)}function Ae(y){return y?ce("/plchuchangchoujian/getcontractitems",{contractno:y}):(console.warn("getcontractitems 缺少必要参数 contractno"),Promise.resolve({data:[]}))}const Ge={class:"search-bar"},Qe={class:"pagination-container"},Xe={__name:"ContractSelector",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","onSelect"],setup(y,{emit:O}){const P=y,s=O,D=h(!1),x=Oe(),Y=h(x.currentTerm||"");ne(()=>P.modelValue,n=>{D.value=n,n&&(Y.value=x.currentTerm||"",j())}),ne(D,n=>{s("update:modelValue",n)}),ne(()=>x.currentTerm,n=>{Y.value=n||"",D.value&&j()},{immediate:!0});const q=re({contractNo:"",projectName:""}),g=re({pageNumber:1,pageSize:10,term:Y.value||"",contractNo:"",projectName:""}),m=h([]),z=h(0),N=h(!1),j=async()=>{N.value=!0;try{g.contractNo=q.contractNo,g.projectName=q.projectName,g.term=Y.value;const n=await Be(g);m.value=n.data.page.list||[],z.value=n.data.page.totalRow||0}catch(n){U.error("获取合同列表失败: "+(n.message||"未知错误"))}finally{N.value=!1}},X=n=>({10:"info",20:"success",30:"warning",40:"danger",50:"danger",60:"primary"})[n]||"info",Z=n=>({10:"录入",20:"确认",30:"下计划",40:"生产中",50:"发货",60:"完成"})[n]||"未知",F=()=>{g.pageNumber=1,j()},$=()=>{q.contractNo="",q.projectName="",g.pageNumber=1,j()},W=n=>{g.pageSize=n,g.pageNumber=1,j()},E=n=>{g.pageNumber=n,j()},R=n=>{s("onSelect",n),D.value=!1},ee=n=>{R(n)},c=()=>{q.contractNo="",q.projectName="",g.pageNumber=1};return(n,v)=>{const _=i("el-input"),T=i("el-col"),S=i("el-button"),le=i("el-row"),M=i("el-table-column"),ae=i("el-tag"),w=i("el-table"),K=i("el-pagination"),B=i("el-dialog"),J=fe("loading");return I(),G(B,{title:"选择合同",modelValue:D.value,"onUpdate:modelValue":v[4]||(v[4]=k=>D.value=k),width:"80%",onClosed:c},{default:l(()=>[b("div",Ge,[e(le,{gutter:20},{default:l(()=>[e(T,{span:8},{default:l(()=>[e(_,{modelValue:q.contractNo,"onUpdate:modelValue":v[0]||(v[0]=k=>q.contractNo=k),placeholder:"请输入合同编号",onKeyup:Q(F,["enter"])},null,8,["modelValue"])]),_:1}),e(T,{span:8},{default:l(()=>[e(_,{modelValue:q.projectName,"onUpdate:modelValue":v[1]||(v[1]=k=>q.projectName=k),placeholder:"请输入合同名称",onKeyup:Q(F,["enter"])},null,8,["modelValue"])]),_:1}),e(T,{span:8},{default:l(()=>[e(S,{type:"primary",onClick:F},{default:l(()=>v[5]||(v[5]=[f("搜索")])),_:1}),e(S,{onClick:$},{default:l(()=>v[6]||(v[6]=[f("重置")])),_:1})]),_:1})]),_:1})]),be((I(),G(w,{data:m.value,border:"",style:{width:"100%","margin-top":"20px"},onRowClick:ee},{default:l(()=>[e(M,{type:"index",label:"序号",width:"80"}),e(M,{prop:"no",label:"合同号",width:"120"}),e(M,{prop:"gridno",label:"电网编号",width:"120"}),e(M,{prop:"name",label:"工程名称"}),e(M,{prop:"salesmanName",label:"销售员",width:"100"}),e(M,{prop:"customerName",label:"客户名称"}),e(M,{prop:"contractSum",label:"合同金额",width:"120"},{default:l(({row:k})=>{var te;return[f(" ¥"+L(((te=k.contractSum)==null?void 0:te.toFixed(2))??"0.00"),1)]}),_:1}),e(M,{prop:"signDate",label:"签定时间",width:"120"}),e(M,{prop:"term",label:"期间",width:"120"}),e(M,{prop:"status",label:"合同状态",width:"100"},{default:l(({row:k})=>[e(ae,{type:X(k.status)},{default:l(()=>[f(L(Z(k.status)),1)]),_:2},1032,["type"])]),_:1}),e(M,{label:"操作",width:"150"},{default:l(({row:k})=>[e(S,{type:"primary",size:"small",onClick:te=>R(k)},{default:l(()=>v[7]||(v[7]=[f(" 选择 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[J,N.value]]),b("div",Qe,[e(K,{"current-page":g.pageNumber,"onUpdate:currentPage":v[2]||(v[2]=k=>g.pageNumber=k),"page-size":g.pageSize,"onUpdate:pageSize":v[3]||(v[3]=k=>g.pageSize=k),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:z.value,onSizeChange:W,onCurrentChange:E},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"])}}},Ze=ge(Xe,[["__scopeId","data-v-865b8c3d"]]),el={class:"form-section"},ll={class:"form-section"},al={class:"form-section"},tl={class:"form-section"},ol={class:"form-section"},nl={class:"form-section"},rl={class:"form-section"},ul={class:"form-section"},dl={class:"form-section"},pl={key:0,class:"loading-container"},sl={key:1,class:"error-message"},il={class:"action-bar"},ml={class:"pagination-container",style:{"margin-top":"15px","text-align":"right"}},cl={__name:"chuchangchoujianForm",props:{visible:{type:Boolean,default:!1},type:{type:String,default:"add",validator:y=>["add","edit"].includes(y)},formData:{type:Object,default:()=>({})}},emits:["update:visible","cancel","refreshData"],setup(y,{emit:O}){const P=He(),s=me(()=>({username:P.descr||"未知"})),D=h(!1),x=h(!1),Y=()=>{D.value=!0},q=r=>{o.xiaoshouhetongno=r.no,o.guowanghetonghao=r.gridno},g=h(!1),m=h([]),z=h(!1),N=h(""),j=async()=>{if(!o.xiaoshouhetongno){U.warning("请先选择销售合同");return}z.value=!0,N.value="",m.value=[];try{const r=await Ae(o.xiaoshouhetongno);r.code===200&&r.success?(m.value=r.data.items||[],m.value.length===0&&(N.value="未查询到相关合同行项目数据")):N.value=r.msg||"查询合同行项目失败"}catch(r){console.error("获取合同行项目数据失败:",r),N.value="获取数据时发生错误，请稍后重试"}finally{z.value=!1}g.value=!0},X=r=>{},Z=r=>{o.poitemno=r.poItemno||"",o.poitemid=r.poItemId||"",g.value=!1,U.success("已选择合同行项目")},F=()=>{N.value="",g.value=!1},$=h(!1),W=h([]),E=h(0),R=h(!1),ee={1:{label:"待处理",type:"info"},2:{label:"处理中",type:"warning"},3:{label:"已完成",type:"success"},4:{label:"已取消",type:"danger"},5:{label:"已过期",type:"danger"}},c=r=>{var a;return((a=ee[r])==null?void 0:a.label)||"未知状态"},n=re({ipoNo:"",woNo:"",pageNumber:1,pageSize:10}),v=()=>{$.value=!0,n.pageNumber=1,n.pageSize=10,_()},_=async()=>{R.value=!0;try{const r=await Pe(n);W.value=r.data.page.list||[],E.value=r.data.page.totalRow||0}catch(r){console.error("获取生产工单列表失败:",r),U.error("获取生产工单列表失败")}finally{R.value=!1}},T=()=>{n.ipoNo="",n.woNo="",n.pageNumber=1,_()},S=r=>{n.pageSize=r,n.pageNumber=1,_()},le=r=>{n.pageNumber=r,_()},M=r=>{},ae=r=>{o.prodworkorder=r.woNo||"",o.batch=r.woNo||"",o.prodorderno=r.ipoNo||"",$.value=!1,U.success("已选择生产工单")},w=()=>{$.value=!1},K=r=>{if(!r)return"-";const a=new Date(r);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},B=y,J=O,k=me({get:()=>B.visible,set:r=>J("update:visible",r)}),te=me(()=>B.type==="add"?"新增出厂抽检记录":"编辑出厂抽检记录"),oe=h(null),se=h(!1),ke=async()=>{try{const r=await Te("cccjjj");return(r==null?void 0:r.code)===200?(console.log("获取出厂抽检检验编码成功",r.data.fullNoNyName),r.data.fullNoNyName):(U.error((r==null?void 0:r.msg)||"获取编码失败"),"")}catch(r){return console.error("生成出厂抽检检验编码出错:",r),U.error("请求出厂抽检检验编码服务时发生错误"),""}},o=re({id:void 0,xiaoshouhetongno:"",guowanghetonghao:"",poitemid:"",poitemno:"",prodorderno:"",batch:"",spotcheckbatch:"",checknumber:0,quantity:0,suppliercode:"1000014491",prodworkorder:"",msubclassname:"电力金具",msubclasscode:"60004",matflg:"",infotypecode:"J1002",tracecode:"",partname:"",partcode:"",rulecode:"",ecode:"NotImp",sgentityid:"NotImp",datauniqueidentifier:"",acqtime:"",remark:"",sizemm:null,appearancequality:"",zinclayerthickness:null,galvanvanizingchecktime:"",galvanizingchecker:s.value.username,breakingloadstd:null,breakingloadactual:null,suspensionmechchecktime:"",suspensionmechchecker:s,suspensionmechchecker:s.value.username,conductornominaldiameter:null,hammegripforcereq:"",hammegripforceactual:null,clampgripforcereq:"",clampgripforceactual:null,dampermechchecktime:"",dampermechchecker:s.value.username,axialgripforce:null,torquereq:null,torqueactual:null,clampbodyloadreq:null,clampbodyloadactual:null,clamptensionreq:null,clamptensionactual:null,clamppressurereq:null,clamppressureactual:null,centripetalforcereq:null,centripetalforceactual:null,spacermechchecktime:"",spacermechchecker:s.value.username,generalchecktime:"",generalchecker:s.value.username}),_e={xiaoshouhetongno:[{required:!0,message:"请输入销售合同编号",trigger:"blur"}],guowanghetonghao:[{required:!0,message:"请输入国网合同号",trigger:"blur"}]};ne(()=>B.formData,r=>{if(r&&Object.keys(r).length>0){const a=JSON.parse(JSON.stringify(r));Object.keys(o).forEach(d=>{a.hasOwnProperty(d)&&(o[d]=a[d])})}},{immediate:!0,deep:!0}),ne(()=>B.visible,async r=>{if(r&&B.type==="add"){const a=await ke();o.spotcheckbatch=a,o.galvanizingchecker=s.value.username,o.suspensionmechchecker=s.value.username,o.dampermechchecker=s.value.username,o.spacermechchecker=s.value.username,o.generalchecker=s.value.username}});const we=()=>{oe.value&&oe.value.resetFields(),Object.assign(o,{id:void 0,xiaoshouhetongno:"",guowanghetonghao:"",poitemid:"",poitemno:"",prodorderno:"",batch:"",spotcheckbatch:"",checknumber:0,quantity:0,suppliercode:"1000014491",prodworkorder:"",msubclassname:"电力金具",msubclasscode:"60004",matflg:"",infotypecode:"J1002",tracecode:"",partname:"",partcode:"",rulecode:"",ecode:"NotImp",sgentityid:"NotImp",datauniqueidentifier:"",acqtime:"",remark:"",sizemm:null,appearancequality:"",zinclayerthickness:null,galvanizingchecktime:"",galvanizingchecker:s.value.username,breakingloadstd:null,breakingloadactual:null,suspensionmechchecktime:"",suspensionmechchecker:s.value.username,conductornominaldiameter:null,hammegripforcereq:"",hammegripforceactual:null,clampgripforcereq:"",clampgripforceactual:null,dampermechchecktime:"",dampermechchecker:s.value.username,axialgripforce:null,torquereq:null,torqueactual:null,clampbodyloadreq:null,clampbodyloadactual:null,clamptensionreq:null,clamptensionactual:null,clamppressurereq:null,clamppressureactual:null,centripetalforcereq:null,centripetalforceactual:null,spacermechchecktime:"",spacermechchecker:s.value.username,generalchecktime:"",generalchecker:s.value.username})},Ne=async()=>{if(oe.value)try{await oe.value.validate(),se.value=!0;const r={...o};B.type==="add"?(await We(r),U.success("新增出厂抽检记录成功"),J("refreshData")):(await Ee(r),U.success("更新出厂抽检记录成功"),J("refreshData")),k.value=!1}catch(r){console.error("保存出厂抽检记录失败:",r),r.name!=="ValidationError"&&U.error("保存出厂抽检记录失败")}finally{se.value=!1}},Se=()=>{J("cancel")};return(r,a)=>{const d=i("el-input"),p=i("el-form-item"),u=i("el-col"),H=i("el-button"),V=i("el-row"),A=i("el-date-picker"),Ce=i("el-form"),Ue=i("HangXiangMuHaoSelector"),qe=i("el-alert"),C=i("el-table-column"),he=i("el-table"),ie=i("el-dialog"),ze=i("el-icon"),xe=i("el-pagination"),Me=fe("loading");return I(),G(ie,{title:te.value,modelValue:k.value,"onUpdate:modelValue":a[60]||(a[60]=t=>k.value=t),width:"1400px",onClosed:we,"destroy-on-close":""},{footer:l(()=>[e(H,{onClick:Se},{default:l(()=>a[79]||(a[79]=[f("取消")])),_:1}),e(H,{type:"primary",onClick:Ne,loading:se.value},{default:l(()=>a[80]||(a[80]=[f("保存")])),_:1},8,["loading"])]),default:l(()=>[e(Ce,{ref_key:"formRef",ref:oe,model:o,rules:_e,"label-width":"150px",size:"small"},{default:l(()=>[b("div",el,[a[63]||(a[63]=b("div",{class:"section-title"},"销售合同关联字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"销售合同编号",prop:"xiaoshouhetongno"},{default:l(()=>[e(d,{modelValue:o.xiaoshouhetongno,"onUpdate:modelValue":a[0]||(a[0]=t=>o.xiaoshouhetongno=t),placeholder:"请输入销售合同编号",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"国网合同号",prop:"guowanghetonghao"},{default:l(()=>[e(V,{gutter:8,style:{display:"flex","align-items":"center"}},{default:l(()=>[e(u,{span:18},{default:l(()=>[e(d,{modelValue:o.guowanghetonghao,"onUpdate:modelValue":a[1]||(a[1]=t=>o.guowanghetonghao=t),placeholder:"请输入国网合同号",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{span:6},{default:l(()=>[e(H,{type:"primary",size:"small",onClick:Y},{default:l(()=>a[61]||(a[61]=[f(" 选择合同 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"国网合同行项id",prop:"poitemid"},{default:l(()=>[e(d,{modelValue:o.poitemid,"onUpdate:modelValue":a[2]||(a[2]=t=>o.poitemid=t),placeholder:"请输入国网合同行项id",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"国网合同行项目号",prop:"poitemno"},{default:l(()=>[e(V,{gutter:8,style:{display:"flex","align-items":"center"}},{default:l(()=>[e(u,{span:18},{default:l(()=>[e(d,{modelValue:o.poitemno,"onUpdate:modelValue":a[3]||(a[3]=t=>o.poitemno=t),placeholder:"请输入国网合同行项目号",readonly:""},null,8,["modelValue"])]),_:1}),e(u,{span:6},{default:l(()=>[e(H,{type:"primary",size:"small",onClick:j},{default:l(()=>a[62]||(a[62]=[f(" 选择 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),b("div",ll,[a[65]||(a[65]=b("div",{class:"section-title"},"生产相关字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"生产订单编号",prop:"prodorderno"},{default:l(()=>[e(d,{modelValue:o.prodorderno,"onUpdate:modelValue":a[4]||(a[4]=t=>o.prodorderno=t),placeholder:"请输入生产订单编号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"生产批次号",prop:"batch"},{default:l(()=>[e(d,{modelValue:o.batch,"onUpdate:modelValue":a[5]||(a[5]=t=>o.batch=t),placeholder:"请输入生产批次号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"生产工单号",prop:"prodworkorder"},{default:l(()=>[e(V,{gutter:8,style:{display:"flex","align-items":"center"}},{default:l(()=>[e(u,{span:18},{default:l(()=>[e(d,{modelValue:o.prodworkorder,"onUpdate:modelValue":a[6]||(a[6]=t=>o.prodworkorder=t),placeholder:"请输入生产工单号"},null,8,["modelValue"])]),_:1}),e(u,{span:6},{default:l(()=>[e(H,{type:"primary",size:"small",onClick:v},{default:l(()=>a[64]||(a[64]=[f(" 选择 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),b("div",al,[a[66]||(a[66]=b("div",{class:"section-title"},"抽检公共信息",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"抽检批次号",prop:"spotcheckbatch"},{default:l(()=>[e(d,{modelValue:o.spotcheckbatch,"onUpdate:modelValue":a[7]||(a[7]=t=>o.spotcheckbatch=t),placeholder:"抽检批次号",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"抽样数量(PCS)",prop:"checknumber"},{default:l(()=>[e(d,{modelValue:o.checknumber,"onUpdate:modelValue":a[8]||(a[8]=t=>o.checknumber=t),modelModifiers:{number:!0},placeholder:"请输入抽样数量",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"批次生产总量(PCS)",prop:"quantity"},{default:l(()=>[e(d,{modelValue:o.quantity,"onUpdate:modelValue":a[9]||(a[9]=t=>o.quantity=t),modelModifiers:{number:!0},placeholder:"请输入批次生产总量",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"供应商编码",prop:"suppliercode"},{default:l(()=>[e(d,{modelValue:o.suppliercode,"onUpdate:modelValue":a[10]||(a[10]=t=>o.suppliercode=t),placeholder:"请输入供应商编码",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"出厂试验工序编号",prop:"matflg"},{default:l(()=>[e(d,{modelValue:o.matflg,"onUpdate:modelValue":a[11]||(a[11]=t=>o.matflg=t),placeholder:"请输入出厂试验工序编号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"质量追溯码",prop:"tracecode"},{default:l(()=>[e(d,{modelValue:o.tracecode,"onUpdate:modelValue":a[12]||(a[12]=t=>o.tracecode=t),placeholder:"请输入质量追溯码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"产品名称",prop:"partname"},{default:l(()=>[e(d,{modelValue:o.partname,"onUpdate:modelValue":a[13]||(a[13]=t=>o.partname=t),placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"产品型号",prop:"partcode"},{default:l(()=>[e(d,{modelValue:o.partcode,"onUpdate:modelValue":a[14]||(a[14]=t=>o.partcode=t),placeholder:"请输入产品型号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"规则编码",prop:"rulecode"},{default:l(()=>[e(d,{modelValue:o.rulecode,"onUpdate:modelValue":a[15]||(a[15]=t=>o.rulecode=t),placeholder:"请输入规则编码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"数据唯一标识",prop:"datauniqueidentifier"},{default:l(()=>[e(d,{modelValue:o.datauniqueidentifier,"onUpdate:modelValue":a[16]||(a[16]=t=>o.datauniqueidentifier=t),placeholder:"请输入数据唯一标识"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"数据上报时间",prop:"acqtime"},{default:l(()=>[e(A,{modelValue:o.acqtime,"onUpdate:modelValue":a[17]||(a[17]=t=>o.acqtime=t),type:"datetime",placeholder:"选择数据上报时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"备注",prop:"remark"},{default:l(()=>[e(d,{modelValue:o.remark,"onUpdate:modelValue":a[18]||(a[18]=t=>o.remark=t),placeholder:"请输入备注",type:"textarea",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),b("div",tl,[a[67]||(a[67]=b("div",{class:"section-title"},"通用检测字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"尺寸(mm)",prop:"sizemm"},{default:l(()=>[e(d,{modelValue:o.sizemm,"onUpdate:modelValue":a[19]||(a[19]=t=>o.sizemm=t),modelModifiers:{number:!0},placeholder:"请输入尺寸",type:"number",step:"0.01"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:16},{default:l(()=>[e(p,{label:"外观、表面质量",prop:"appearancequality"},{default:l(()=>[e(d,{modelValue:o.appearancequality,"onUpdate:modelValue":a[20]||(a[20]=t=>o.appearancequality=t),placeholder:"请输入外观、表面质量描述",type:"textarea",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),b("div",ol,[a[68]||(a[68]=b("div",{class:"section-title"},"镀锌质量检测字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"锌层厚度(μm)",prop:"zinclayerthickness"},{default:l(()=>[e(d,{modelValue:o.zinclayerthickness,"onUpdate:modelValue":a[21]||(a[21]=t=>o.zinclayerthickness=t),modelModifiers:{number:!0},placeholder:"请输入锌层厚度",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"镀锌检测时间",prop:"galvanizingchecktime"},{default:l(()=>[e(A,{modelValue:o.galvanizingchecktime,"onUpdate:modelValue":a[22]||(a[22]=t=>o.galvanizingchecktime=t),type:"datetime",placeholder:"选择镀锌检测时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"镀锌检测人",prop:"galvanizingchecker"},{default:l(()=>[e(d,{modelValue:o.galvanizingchecker,"onUpdate:modelValue":a[23]||(a[23]=t=>o.galvanizingchecker=t),placeholder:"检测人",value:s.value.username,readonly:""},null,8,["modelValue","value"])]),_:1})]),_:1})]),_:1})]),b("div",nl,[a[69]||(a[69]=b("div",{class:"section-title"},"悬垂线夹和连接金具机械试验字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"破坏载荷(标准值,kN)",prop:"breakingloadstd"},{default:l(()=>[e(d,{modelValue:o.breakingloadstd,"onUpdate:modelValue":a[24]||(a[24]=t=>o.breakingloadstd=t),modelModifiers:{number:!0},placeholder:"请输入破坏载荷标准值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"破坏载荷(实测值,kN)",prop:"breakingloadactual"},{default:l(()=>[e(d,{modelValue:o.breakingloadactual,"onUpdate:modelValue":a[25]||(a[25]=t=>o.breakingloadactual=t),modelModifiers:{number:!0},placeholder:"请输入破坏载荷实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"悬垂线夹机械检测时间",prop:"suspensionmechchecktime"},{default:l(()=>[e(A,{modelValue:o.suspensionmechchecktime,"onUpdate:modelValue":a[26]||(a[26]=t=>o.suspensionmechchecktime=t),type:"datetime",placeholder:"选择检测时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"悬垂线夹机械检测人",prop:"suspensionmechchecker"},{default:l(()=>[e(d,{modelValue:o.suspensionmechchecker,"onUpdate:modelValue":a[27]||(a[27]=t=>o.suspensionmechchecker=t),placeholder:"检测人",value:s.value.username,readonly:""},null,8,["modelValue","value"])]),_:1})]),_:1})]),_:1})]),b("div",rl,[a[70]||(a[70]=b("div",{class:"section-title"},"防振锤机械试验字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"导线标称外径(mm)",prop:"conductornominaldiameter"},{default:l(()=>[e(d,{modelValue:o.conductornominaldiameter,"onUpdate:modelValue":a[28]||(a[28]=t=>o.conductornominaldiameter=t),modelModifiers:{number:!0},placeholder:"请输入导线标称外径",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"锤头对钢绞线握力(要求值,kN)",prop:"hammegripforcereq"},{default:l(()=>[e(d,{modelValue:o.hammegripforcereq,"onUpdate:modelValue":a[29]||(a[29]=t=>o.hammegripforcereq=t),placeholder:"请输入要求值"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"锤头对钢绞线握力(实测值,kN)",prop:"hammegripforceactual"},{default:l(()=>[e(d,{modelValue:o.hammegripforceactual,"onUpdate:modelValue":a[30]||(a[30]=t=>o.hammegripforceactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"线夹对钢绞线握力(要求值,kN)",prop:"clampgripforcereq"},{default:l(()=>[e(d,{modelValue:o.clampgripforcereq,"onUpdate:modelValue":a[31]||(a[31]=t=>o.clampgripforcereq=t),placeholder:"请输入要求值"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"线夹对钢绞线握力(实测值,kN)",prop:"clampgripforceactual"},{default:l(()=>[e(d,{modelValue:o.clampgripforceactual,"onUpdate:modelValue":a[32]||(a[32]=t=>o.clampgripforceactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"防振锤机械检测时间",prop:"dampermechchecktime"},{default:l(()=>[e(A,{modelValue:o.dampermechchecktime,"onUpdate:modelValue":a[33]||(a[33]=t=>o.dampermechchecktime=t),type:"datetime",placeholder:"选择检测时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"防振锤机械检测人",prop:"dampermechchecker"},{default:l(()=>[e(d,{modelValue:o.dampermechchecker,"onUpdate:modelValue":a[34]||(a[34]=t=>o.dampermechchecker=t),placeholder:"检测人",value:s.value.username,readonly:""},null,8,["modelValue","value"])]),_:1})]),_:1})]),_:1})]),b("div",ul,[a[71]||(a[71]=b("div",{class:"section-title"},"间隔棒机械试验字段",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"顺线握力(kN)",prop:"axialgripforce"},{default:l(()=>[e(d,{modelValue:o.axialgripforce,"onUpdate:modelValue":a[35]||(a[35]=t=>o.axialgripforce=t),modelModifiers:{number:!0},placeholder:"请输入顺线握力",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"扭握力矩(要求值,N.m)",prop:"torquereq"},{default:l(()=>[e(d,{modelValue:o.torquereq,"onUpdate:modelValue":a[36]||(a[36]=t=>o.torquereq=t),modelModifiers:{number:!0},placeholder:"请输入要求值",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"扭握力矩(实测值,N.m)",prop:"torqueactual"},{default:l(()=>[e(d,{modelValue:o.torqueactual,"onUpdate:modelValue":a[37]||(a[37]=t=>o.torqueactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"线夹本体破坏载荷(要求值,kN)",prop:"clampbodyloadreq"},{default:l(()=>[e(d,{modelValue:o.clampbodyloadreq,"onUpdate:modelValue":a[38]||(a[38]=t=>o.clampbodyloadreq=t),modelModifiers:{number:!0},placeholder:"请输入要求值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"线夹本体破坏载荷(实测值,kN)",prop:"clampbodyloadactual"},{default:l(()=>[e(d,{modelValue:o.clampbodyloadactual,"onUpdate:modelValue":a[39]||(a[39]=t=>o.clampbodyloadactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"线夹间拉力(要求值,kN)",prop:"clamptensionreq"},{default:l(()=>[e(d,{modelValue:o.clamptensionreq,"onUpdate:modelValue":a[40]||(a[40]=t=>o.clamptensionreq=t),modelModifiers:{number:!0},placeholder:"请输入要求值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"线夹间拉力(实测值,kN)",prop:"clamptensionactual"},{default:l(()=>[e(d,{modelValue:o.clamptensionactual,"onUpdate:modelValue":a[41]||(a[41]=t=>o.clamptensionactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"线夹间压力(要求值,kN)",prop:"clamppressurereq"},{default:l(()=>[e(d,{modelValue:o.clamppressurereq,"onUpdate:modelValue":a[42]||(a[42]=t=>o.clamppressurereq=t),modelModifiers:{number:!0},placeholder:"请输入要求值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"线夹间压力(实测值,kN)",prop:"clamppressureactual"},{default:l(()=>[e(d,{modelValue:o.clamppressureactual,"onUpdate:modelValue":a[43]||(a[43]=t=>o.clamppressureactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"向心力(要求值,kN)",prop:"centripetalforcereq"},{default:l(()=>[e(d,{modelValue:o.centripetalforcereq,"onUpdate:modelValue":a[44]||(a[44]=t=>o.centripetalforcereq=t),modelModifiers:{number:!0},placeholder:"请输入要求值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"向心力(实测值,kN)",prop:"centripetalforceactual"},{default:l(()=>[e(d,{modelValue:o.centripetalforceactual,"onUpdate:modelValue":a[45]||(a[45]=t=>o.centripetalforceactual=t),modelModifiers:{number:!0},placeholder:"请输入实测值",type:"number",step:"0.1"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"间隔棒机械检测时间",prop:"spacermechchecktime"},{default:l(()=>[e(A,{modelValue:o.spacermechchecktime,"onUpdate:modelValue":a[46]||(a[46]=t=>o.spacermechchecktime=t),type:"datetime",placeholder:"选择检测时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"间隔棒机械检测人",prop:"spacermechchecker"},{default:l(()=>[e(d,{modelValue:o.spacermechchecker,"onUpdate:modelValue":a[47]||(a[47]=t=>o.spacermechchecker=t),placeholder:"检测人",value:s.value.username,readonly:""},null,8,["modelValue","value"])]),_:1})]),_:1})]),_:1})]),b("div",dl,[a[72]||(a[72]=b("div",{class:"section-title"},"通用检测时间和检测人",-1)),e(V,{gutter:16},{default:l(()=>[e(u,{span:8},{default:l(()=>[e(p,{label:"通用检测时间",prop:"generalchecktime"},{default:l(()=>[e(A,{modelValue:o.generalchecktime,"onUpdate:modelValue":a[48]||(a[48]=t=>o.generalchecktime=t),type:"datetime",placeholder:"选择通用检测时间",style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:8},{default:l(()=>[e(p,{label:"通用检测人",prop:"generalchecker"},{default:l(()=>[e(d,{modelValue:o.generalchecker,"onUpdate:modelValue":a[49]||(a[49]=t=>o.generalchecker=t),placeholder:"检测人",value:s.value.username,readonly:""},null,8,["modelValue","value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model"]),e(Ze,{modelValue:D.value,"onUpdate:modelValue":a[50]||(a[50]=t=>D.value=t),onOnSelect:q},null,8,["modelValue"]),e(Ue,{modelValue:x.value,"onUpdate:modelValue":a[51]||(a[51]=t=>x.value=t),"contract-no":o.xiaoshouhetongno,onOnSelect:r.handleItemSelect},null,8,["modelValue","contract-no","onOnSelect"]),e(ie,{title:"选择国网合同行项目号",modelValue:g.value,"onUpdate:modelValue":a[53]||(a[53]=t=>g.value=t),width:"70%","before-close":F},{footer:l(()=>[e(H,{onClick:a[52]||(a[52]=t=>g.value=!1)},{default:l(()=>a[74]||(a[74]=[f("关闭")])),_:1})]),default:l(()=>[z.value?(I(),de("div",pl,[e(pe($e),{visible:z.value,text:"正在加载数据..."},null,8,["visible"])])):ue("",!0),N.value?(I(),de("div",sl,[e(qe,{title:"错误提示",message:N.value,type:"error","show-icon":""},null,8,["message"])])):ue("",!0),!z.value&&!N.value?(I(),G(he,{key:2,data:m.value,border:"",style:{width:"100%","margin-bottom":"15px"},onRowClick:X,"highlight-current-row":""},{default:l(()=>[e(C,{prop:"itemname",label:"产品名称",width:"150"}),e(C,{prop:"itemno",label:"产品编号",width:"150"}),e(C,{prop:"spec",label:"规格型号",width:"150"}),e(C,{prop:"inclass",label:"类别",width:"100"}),e(C,{prop:"itemnum",label:"数量",width:"100"}),e(C,{prop:"itemunit",label:"单位",width:"80"}),e(C,{prop:"poItemno",label:"国网合同行项目号",width:"180"}),e(C,{prop:"poItemId",label:"国网合同行项id",width:"180"}),e(C,{fixed:"right",label:"操作",width:"100"},{default:l(t=>[e(H,{type:"text",size:"small",onClick:De=>Z(t.row)},{default:l(()=>a[73]||(a[73]=[f(" 选择 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])):ue("",!0)]),_:1},8,["modelValue"]),e(ie,{title:"选择生产工单",modelValue:$.value,"onUpdate:modelValue":a[59]||(a[59]=t=>$.value=t),width:"80%","before-close":w},{footer:l(()=>[e(H,{onClick:a[58]||(a[58]=t=>$.value=!1)},{default:l(()=>a[78]||(a[78]=[f("关闭")])),_:1})]),default:l(()=>[b("div",il,[e(d,{modelValue:n.ipoNo,"onUpdate:modelValue":a[54]||(a[54]=t=>n.ipoNo=t),placeholder:"请输入供应商生产订单序号查询",style:{width:"200px","margin-right":"10px"},clearable:"",onClear:_,onKeyup:Q(_,["enter"])},null,8,["modelValue"]),e(d,{modelValue:n.woNo,"onUpdate:modelValue":a[55]||(a[55]=t=>n.woNo=t),placeholder:"请输入生产工单编码查询",style:{width:"200px","margin-right":"10px"},clearable:"",onClear:_,onKeyup:Q(_,["enter"])},null,8,["modelValue"]),e(H,{type:"primary",onClick:_},{default:l(()=>a[75]||(a[75]=[f("搜索")])),_:1}),e(H,{type:"warning",onClick:T},{default:l(()=>[e(ze,null,{default:l(()=>[e(pe(ye))]),_:1}),a[76]||(a[76]=f(" 刷新 "))]),_:1})]),be((I(),G(he,{data:W.value,border:"",style:{width:"100%","margin-top":"15px"},onRowClick:M,"highlight-current-row":""},{default:l(()=>[e(C,{type:"index",label:"序号",width:"80"}),e(C,{prop:"contractNo",label:"合同编号"}),e(C,{prop:"ipoNo",label:"生产订单号"}),e(C,{prop:"woNo",label:"生产工单号"}),e(C,{prop:"planStartDate",label:"计划开始日期",width:"180"},{default:l(({row:t})=>[f(L(K(t.planStartDate)),1)]),_:1}),e(C,{prop:"planFinishDate",label:"计划完成日期",width:"180"},{default:l(({row:t})=>[f(L(K(t.planFinishDate)),1)]),_:1}),e(C,{prop:"woStatus",label:"工单状态",width:"120"},{default:l(({row:t})=>[f(L(c(t.woStatus)),1)]),_:1}),e(C,{prop:"dataSource",label:"数据来源"}),e(C,{label:"操作",width:"100"},{default:l(t=>[e(H,{type:"text",size:"small",onClick:De=>ae(t.row)},{default:l(()=>a[77]||(a[77]=[f(" 选择 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Me,R.value]]),b("div",ml,[e(xe,{"current-page":n.pageNumber,"onUpdate:currentPage":a[56]||(a[56]=t=>n.pageNumber=t),"page-size":n.pageSize,"onUpdate:pageSize":a[57]||(a[57]=t=>n.pageSize=t),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:E.value,onSizeChange:S,onCurrentChange:le},null,8,["current-page","page-size","total"])])]),_:1},8,["modelValue"])]),_:1},8,["title","modelValue"])}}},gl=ge(cl,[["__scopeId","data-v-5a4af225"]]),fl={class:"chuchan-inspection-management"},bl={class:"action-bar"},hl={key:0,class:"batch-actions"},vl={class:"pagination-container"},Vl={__name:"chuchanchoujian",setup(y){const O=c=>{if(!c)return"-";const n=new Date(c);return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`},P=h(!1),s=h([]),D=h(0),x=h([]),Y=h(!1),q=h("add"),g=h({}),m=re({guowanghetonghao:"",spotcheckbatch:"",pageNumber:1,pageSize:10}),z=async()=>{P.value=!0;try{const c=await Fe(m);s.value=c.data.page.list||[],D.value=c.data.page.totalRow||0}catch(c){console.error("获取出厂抽检列表失败:",c),U.error("获取出厂抽检列表失败")}finally{P.value=!1}},N=()=>{m.pageNumber=1,z()},j=()=>{m.guowanghetonghao="",m.spotcheckbatch="",m.pageNumber=1,z()},X=c=>{m.pageSize=c,m.pageNumber=1,z()},Z=c=>{m.pageNumber=c,z()},F=c=>{x.value=c},$=()=>{q.value="add",g.value={},Y.value=!0},W=async c=>{try{q.value="edit";const n=await Le({id:c.id});g.value=n.data.record||{},Y.value=!0}catch(n){console.error("获取抽检记录详情失败:",n),U.error("获取抽检记录详情失败")}},E=async c=>{try{await ve.confirm(`确认删除抽检记录"${c.spotcheckbatch}"吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await Ke({id:c.id}),U.success("删除成功"),s.value.length===1&&m.pageNumber>1&&(m.pageNumber-=1),z()}catch(n){n!=="cancel"&&(console.error("删除抽检记录失败:",n),U.error("删除抽检记录失败"))}},R=async()=>{if(x.value.length===0){U.warning("请选择要删除的抽检记录");return}try{await ve.confirm(`确认删除选中的 ${x.value.length} 条抽检记录吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const c=x.value.map(n=>n.id);await Je(c),U.success("批量删除成功"),x.value=[],s.value.length===x.value.length&&m.pageNumber>1&&(m.pageNumber-=1),z()}catch(c){c!=="cancel"&&(console.error("批量删除失败:",c),U.error("批量删除失败"))}},ee=()=>{Y.value=!1,g.value={}};return Ie(()=>{z()}),(c,n)=>{const v=i("el-input"),_=i("el-button"),T=i("el-icon"),S=i("el-table-column"),le=i("el-table"),M=i("el-pagination"),ae=fe("loading");return I(),de("div",fl,[b("div",bl,[e(v,{modelValue:m.guowanghetonghao,"onUpdate:modelValue":n[0]||(n[0]=w=>m.guowanghetonghao=w),placeholder:"请输入国网合同号查询",style:{width:"200px","margin-right":"10px"},clearable:"",onClear:N,onKeyup:Q(N,["enter"])},null,8,["modelValue"]),e(v,{modelValue:m.spotcheckbatch,"onUpdate:modelValue":n[1]||(n[1]=w=>m.spotcheckbatch=w),placeholder:"请输入抽检批次号查询",style:{width:"200px","margin-right":"10px"},clearable:"",onClear:N,onKeyup:Q(N,["enter"])},null,8,["modelValue"]),e(_,{type:"primary",onClick:N},{default:l(()=>n[5]||(n[5]=[f("搜索")])),_:1}),e(_,{type:"warning",onClick:j},{default:l(()=>[e(T,null,{default:l(()=>[e(pe(ye))]),_:1}),n[6]||(n[6]=f(" 刷新 "))]),_:1}),e(_,{type:"primary",style:{"margin-left":"auto"},onClick:$},{default:l(()=>[e(T,null,{default:l(()=>[e(pe(Re))]),_:1}),n[7]||(n[7]=f(" 新增抽检记录 "))]),_:1})]),be((I(),G(le,{data:s.value,border:"",style:{width:"100%"},onSelectionChange:F},{default:l(()=>[e(S,{type:"selection",width:"55"}),e(S,{type:"index",label:"序号",width:"80"}),e(S,{prop:"guowanghetonghao",label:"国网采购订单号"}),e(S,{prop:"poitemid",label:"行项目ID"}),e(S,{prop:"prodworkorder",label:"生产工单号"}),e(S,{prop:"tracecode",label:"质量追溯码"}),e(S,{prop:"partname",label:"产品名称"}),e(S,{prop:"partcode",label:"产品型号"}),e(S,{prop:"batch",label:"生产批次号"}),e(S,{prop:"spotcheckbatch",label:"抽检批次号"}),e(S,{label:"检验时间",width:"180"},{default:l(({row:w})=>[f(L(O(w.generalchecktime||w.galvanizingchecktime||"-")),1)]),_:1}),e(S,{label:"操作",width:"200"},{default:l(({row:w})=>[e(_,{type:"primary",size:"small",onClick:K=>W(w)},{default:l(()=>n[8]||(n[8]=[f("编辑")])),_:2},1032,["onClick"]),e(_,{type:"danger",size:"small",onClick:K=>E(w)},{default:l(()=>n[9]||(n[9]=[f("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ae,P.value]]),x.value.length>0?(I(),de("div",hl,[e(_,{type:"danger",onClick:R},{default:l(()=>[f(" 批量删除 ("+L(x.value.length)+") ",1)]),_:1})])):ue("",!0),b("div",vl,[e(M,{"current-page":m.pageNumber,"onUpdate:currentPage":n[2]||(n[2]=w=>m.pageNumber=w),"page-size":m.pageSize,"onUpdate:pageSize":n[3]||(n[3]=w=>m.pageSize=w),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:D.value,onSizeChange:X,onCurrentChange:Z},null,8,["current-page","page-size","total"])]),e(gl,{visible:Y.value,"onUpdate:visible":n[4]||(n[4]=w=>Y.value=w),type:q.value,"form-data":g.value,onCancel:ee,onRefreshData:j},null,8,["visible","type","form-data"])])}}},Sl=ge(Vl,[["__scopeId","data-v-0e3d7988"]]);export{Sl as default};
